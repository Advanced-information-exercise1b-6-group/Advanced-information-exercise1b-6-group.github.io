(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{7264:function(e,l,t){Promise.resolve().then(t.bind(t,6368))},9645:function(e,l,t){"use strict";t.d(l,{P:function(){return i}});var n=t(7437),r=t(6463),s=t(2265);let a=[{label:"メニュー検索",onClick:e=>e.push("/menu/select-genre")},{label:"Home",onClick:e=>e.push("/home")},{label:"戻る",onClick:e=>e.back()}],u=[{label:"メニュー検索",onClick:e=>e.push("/menu/select-genre")},{label:"Home",onClick:e=>e.push("/home")},{label:"MyPage",onClick:e=>e.push("/mypage")}];function i(e){var l;let t=null!==(l=e.buttons)&&void 0!==l?l:e.isHome?u:a;return(0,n.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,n.jsx)("main",{className:"flex flex-grow flex-shrink flex-col p-10 pt-14 overflow-y-scroll",children:(0,n.jsx)(s.Suspense,{children:e.children})}),0!=t.length&&(0,n.jsx)(c,{buttons:t,className:"flex-shrink-0"})]})}function c(e){let{className:l,buttons:t}=e,s=(0,r.useRouter)();return(0,n.jsx)("footer",{className:"w-full h-[20vw] bg-amber-600 flex flex-row ".concat(l),children:t.map(e=>{let{label:l,onClick:t}=e;return(0,n.jsx)("button",{className:"w-1 flex-grow h-full border-black border-2 border-l-0 first:border-l-2",onClick:()=>t(s),children:l},l)})})}},6368:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return o}});var n=t(7437),r=t(2265),s=t(9645),a=t(6463),u=t(2879),i=t(7200),c=t(8585);function o(){return(0,n.jsx)(s.P,{buttons:[],children:(0,n.jsx)(d,{})})}function d(){let e=(0,r.useId)(),l=(0,a.useRouter)(),[t,s]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[h,x]=(0,r.useState)(null),[m,f]=(0,r.useState)(3),[g,j]=(0,r.useState)(null),[b,p]=(0,r.useState)(null),[w,v]=(0,r.useState)(null),[N,S]=(0,r.useState)([]),[k,y]=(0,r.useState)([]),[E,C]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,i.i)();if(null!=e){s(e.sex),d(e.height),x(e.weight),f(e.load);let l=e.birthday.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(null==l)throw Error("Error");j(parseInt(l[1])),p(parseInt(l[2])),v(parseInt(l[3])),S(e.stores),y(e.allergens),C(e.price)}},[]);let V=null;null==o?V="身長を入力してください":o<100?V="身長が小さすぎます":o>=1e3&&(V="身長が大きすぎます");let I=null;null==h?I="体重を入力してください":h<10?I="体重が小さすぎます":h>=100&&(I="体重が大きすぎます");let Y=null;if(null==g||null==b||null==w)Y="日付を入力してください";else{let e=new Date;new Date(g,b-1,w)>e&&(Y="未来の日付は選択できません")}let P=null;0==N.length&&(P="飲食店を選択してください");let A=null;return null==E?A="予算を入力してください":E<0&&(A="予算が負です"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"text-xl",children:"初期設定"}),(0,n.jsx)("hr",{className:"border-amber-700"}),"性別",(0,n.jsxs)("div",{className:"flex gap-5 mx-auto",children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"sex",checked:"man"==t,onChange:e=>s("man")}),"男性"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"sex",checked:"woman"==t,onChange:e=>s("woman")}),"女性"]})]}),null==t&&(0,n.jsx)("div",{className:"text-red-500",children:"性別を選択してください"}),(0,n.jsx)("label",{htmlFor:"".concat(e,"-height"),children:"身長"}),(0,n.jsxs)("div",{className:"flex ml-20",children:[(0,n.jsx)(c.Y,{id:"".concat(e,"-height"),name:"height",className:"flex-grow",value:o,setValue:d}),"cm"]}),null!=V&&(0,n.jsx)("div",{className:"text-red-500",children:V}),(0,n.jsx)("label",{htmlFor:"".concat(e,"-weight"),children:"体重"}),(0,n.jsxs)("div",{className:"flex ml-20",children:[(0,n.jsx)(c.Y,{id:"".concat(e,"-weight"),name:"weight",className:"flex-grow",value:h,setValue:x}),"kg"]}),null!=I&&(0,n.jsx)("div",{className:"text-red-500",children:I}),(0,n.jsx)("label",{htmlFor:"".concat(e,"-weight"),children:"運動量"}),(0,n.jsx)("div",{className:"flex ml-20",children:(0,n.jsxs)("select",{name:"load",className:"flex-grow bg-white",value:String(m),onChange:e=>f(parseInt(e.target.value)),children:[(0,n.jsx)("option",{value:1,children:"すごく少ない"}),(0,n.jsx)("option",{value:2,children:"少ない"}),(0,n.jsx)("option",{value:3,children:"ふつう"}),(0,n.jsx)("option",{value:4,children:"多い"}),(0,n.jsx)("option",{value:5,children:"すごく多い"})]})}),(0,n.jsx)("div",{children:"生年月日"}),(0,n.jsxs)("div",{className:"flex ml-5",children:[(0,n.jsx)(c.Y,{name:"year",className:"w-[25dvw]",value:g,setValue:j}),"年",(0,n.jsx)(c.Y,{name:"month",className:"w-[20dvw]",value:b,setValue:p}),"月",(0,n.jsx)(c.Y,{name:"day",className:"w-[20dvw]",value:w,setValue:v}),"日"]}),null!=Y&&(0,n.jsx)("div",{className:"text-red-500",children:Y}),(0,n.jsx)("div",{children:"使用する飲食店"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap ml-5",children:Object.entries(u.$S).map(e=>{let[l,t]=e;return(0,n.jsxs)("label",{className:"whitespace-nowrap",children:[(0,n.jsx)(c.y,{thisValue:l,value:N,setValue:S,className:"mr-2"}),t]},l)})}),null!=P&&(0,n.jsx)("div",{className:"text-red-500",children:P}),(0,n.jsx)("div",{children:"アレルギー"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap ml-5",children:Object.entries(u.BE).map(e=>{let[l,t]=e;return(0,n.jsxs)("label",{className:"whitespace-nowrap",children:[(0,n.jsx)(c.y,{thisValue:l,value:k,setValue:y,className:"mr-2"}),t]},l)})}),(0,n.jsx)("label",{htmlFor:"".concat(e,"-price"),children:"一日の予算"}),(0,n.jsxs)("div",{className:"flex ml-20",children:[(0,n.jsx)(c.Y,{id:"".concat(e,"-price"),name:"weight",className:"flex-grow",value:E,setValue:C})," 円/日"]}),null!=A&&(0,n.jsx)("div",{className:"text-red-500",children:A}),(0,n.jsx)("button",{className:"mt-2 bg-gray-200 border-2 border-black disabled:bg-gray-300 disabled:border-gray-500 disabled:text-gray-500",onClick:()=>{if(null==t||null==o||null==h||null==g||null==b||null==w||null==E)throw Error("Error");(0,i.A)({sex:t,height:o,weight:h,load:m,birthday:"".concat(g.toString().padStart(4,"0"),"-").concat(b.toString().padStart(2,"0"),"-").concat(w.toString().padStart(2,"0")),stores:N,allergens:k,price:E}),l.push("/setup/confirm/")},disabled:!!(V||I||Y||P||A),children:"進む"})]})}},8585:function(e,l,t){"use strict";t.d(l,{Y:function(){return s},y:function(){return a}});var n=t(7437),r=t(2265);function s(e){let{value:l,setValue:t,...s}=e,[a,u]=(0,r.useState)("");(0,r.useEffect)(()=>{null!=l&&u(String(l))},[l]),(0,r.useEffect)(()=>{if(""==a)t(null);else{let e=parseInt(a);isNaN(e)||t(e)}},[a,t]);let i=(0,r.useCallback)(e=>{u([...e.target.value].filter(e=>null!=e.match(/[0-9]/)).join(""))},[]);return(0,n.jsx)("input",{...s,value:a,pattern:"[0-9]+",inputMode:"numeric",onChange:i})}function a(e){let{thisValue:l,value:t,setValue:r,...s}=e;return(0,n.jsx)("input",{...s,type:"checkbox",checked:t.includes(l),onChange:e=>{e.target.checked?r(e=>[...new Set([...e,l])]):r(e=>e.filter(e=>e!=l))}})}},2879:function(e,l,t){"use strict";t.d(l,{$S:function(){return r},BE:function(){return s},HY:function(){return n},NJ:function(){return a}});let n={chinese:"中華",bento:"弁当",curry:"カレー",bread:"パン",rice:"米類",sweets:"スイーツ"},r={sevenEleven:"セブンイレブン",familyMart:"ファミリーマート",lawson:"ローソン",matsuya:"松屋"},s={walnut:"くるみ",egg:"卵",shrimps:"エビ",milk:"乳",wheat:"小麦",peanut:"ピーナッツ",crab:"カニ",soba:"そば"},a={breakfast:"朝食",lunch:"昼食",dinner:"夕食",sweets:"スイーツ"}},7200:function(e,l,t){"use strict";t.d(l,{A:function(){return r},i:function(){return s}});let n="userDatabase";function r(e){!function(e){if(e.height<=0)throw Error("身長は半角数字にしてください.");if(e.weight<=0)throw Error("体重は半角数字にしてください.");if(e.load<1||e.load>5)throw Error("運動量は1から5の半角数字にしてください.");if(!Array.isArray(e.stores)||0===e.stores.length)throw Error("飲食店を選択してください.");if(!Array.isArray(e.allergens))throw Error("アレルギーを選択してください.");if(e.price<0)throw Error("価格は半角数字にしてください.")}(e),localStorage.setItem(n,JSON.stringify(e))}function s(){return function(){let e=localStorage.getItem(n);return e?JSON.parse(e):null}()}},6463:function(e,l,t){"use strict";var n=t(1169);t.o(n,"useRouter")&&t.d(l,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(l,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7264)}),_N_E=e.O()}]);