(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{8027:function(e,n,r){Promise.resolve().then(r.bind(r,4930))},9645:function(e,n,r){"use strict";r.d(n,{P:function(){return a}});var t=r(7437),l=r(6463),s=r(2265);let i=[{label:"メニュー検索",onClick:e=>e.push("/menu/select-genre")},{label:"Home",onClick:e=>e.push("/home")},{label:"戻る",onClick:e=>e.back()}],c=[{label:"メニュー検索",onClick:e=>e.push("/menu/select-genre")},{label:"Home",onClick:e=>e.push("/home")},{label:"MyPage",onClick:e=>e.push("/mypage")}];function a(e){var n;let r=null!==(n=e.buttons)&&void 0!==n?n:e.isHome?c:i;return(0,t.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,t.jsx)("main",{className:"flex flex-grow flex-shrink flex-col p-10 pt-14 overflow-y-scroll",children:(0,t.jsx)(s.Suspense,{children:e.children})}),0!=r.length&&(0,t.jsx)(o,{buttons:r,className:"flex-shrink-0"})]})}function o(e){let{className:n,buttons:r}=e,s=(0,l.useRouter)();return(0,t.jsx)("footer",{className:"w-full h-[20vw] bg-amber-600 flex flex-row ".concat(n),children:r.map(e=>{let{label:n,onClick:r}=e;return(0,t.jsx)("button",{className:"w-1 flex-grow h-full border-black border-2 border-l-0 first:border-l-2",onClick:()=>r(s),children:n},n)})})}},4930:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return d}});var t=r(7437),l=r(2265),s=r(9645),i=r(6463),c=r(7549),a=r(7200),o=r(5113),u=r(3770);function d(){return(0,t.jsx)(s.P,{isHome:!0,children:(0,t.jsx)(m,{})})}function m(){var e,n,r;let s=new Date,d=(0,i.useRouter)(),m=(0,u.uN)(),x=function(){let e=JSON.parse(localStorage.getItem("menuData")||"[]"),n=(0,a.i)();return e.filter(e=>"sweets"===e.genre&&!e.allergens.some(e=>null==n?void 0:n.allergens.includes(e)))}(),j=null===(e=m.find(e=>"breakfast"===e.mealKind))||void 0===e?void 0:e.menu,b=null===(n=m.find(e=>"lunch"===e.mealKind))||void 0===n?void 0:n.menu,g=null===(r=m.find(e=>"dinner"===e.mealKind))||void 0===r?void 0:r.menu,v=x.find(e=>e.store.includes("familyMart")),N=x.find(e=>e.store.includes("lawson")),p=x.find(e=>e.store.includes("sevenEleven")),k=e=>{d.push("/mypage/history/show?date=".concat((0,c.i5)(),"&when=").concat(e))},w=(0,u.v$)(),y=(0,l.useMemo)(()=>Math.floor((0,o.Rt)(w)),[w]),S=(0,l.useMemo)(()=>m.map(e=>e.menu.filter(e=>e.ate).map(e=>e.energy).reduce((e,n)=>e+n,0)+e.additionalEnergy).reduce((e,n)=>e+n,0),[m]),E=null!=j||null!=b||null!=g,C=S/y*100;return(0,t.jsxs)("div",{className:"flex justify-center items-center flex-col mb-4 gap-4",children:[(0,t.jsxs)("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute w-full h-full rounded-full",style:{background:"conic-gradient(orange ".concat(C,"%, lightgray ").concat(C,"% 100%)")}}),(0,t.jsxs)("div",{className:"text-center absolute",children:[(0,t.jsx)("p",{children:"摂取カロリー"}),(0,t.jsxs)("p",{children:[S,"kcal/",y,"kcal"]})]})]}),(0,t.jsx)("br",{}),E?(0,t.jsxs)("div",{className:"flex gap-6 flex-col",children:[5==s.getDay()&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"今週のおすすめスイーツ"}),(0,t.jsx)("div",{className:"bg-gray-200 p-4 rounded-md shadow-md -mx-4",children:(0,t.jsxs)("div",{className:"flex items-stretch ",children:["    ",(0,t.jsxs)("div",{className:"w-1/3 pr-4 border-r border-black",children:["  ",(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"セブンイレブン"}),(0,t.jsx)(f,{kind:"sevenEleven",menu:p})]}),(0,t.jsxs)("div",{className:"w-1/3 px-4 border-r border-black",children:[(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"ローソン"}),(0,t.jsx)(f,{kind:"lawson",menu:N})]}),(0,t.jsxs)("div",{className:"w-1/3 pl-4 border-r",children:[(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"ファミリーマート"}),(0,t.jsx)(f,{kind:"familyMart",menu:v})]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"本日のメニュー"}),(0,t.jsx)("div",{className:"text-center",children:(0,c.i5)()}),(0,t.jsxs)("div",{className:"container mx-auto",onClick:()=>k("breakfast"),children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"朝食"}),(0,t.jsx)(h,{kind:"breakfast",menu:j})]}),(0,t.jsxs)("div",{className:"container mx-auto",onClick:e=>k("lunch"),children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"昼食"}),(0,t.jsx)(h,{kind:"breakfast",menu:b})]}),(0,t.jsxs)("div",{className:"container mx-auto",onClick:e=>k("dinner"),children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"夕食"}),(0,t.jsx)(h,{kind:"breakfast",menu:g})]})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"mt-8 flex items-center justify-center",children:(0,t.jsx)("div",{className:"border border-black rounded-full py-2 px-4",children:"今日のメニューを決めましょう！"})})})]})}function f(e){let{kind:n,menu:r}=e;return null==r?(0,t.jsx)("div",{children:"見つかりませんでした"}):(0,t.jsxs)("div",{className:"flex items-start flex-col",children:[(0,t.jsx)("img",{alt:"".concat(null==r?void 0:r.name," 画像"),className:"block h-32 w-32 flex-shrink-0",src:r.image_url}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"truncate",children:r.name}),(0,t.jsxs)("p",{children:[r.price,"円"]}),(0,t.jsxs)("p",{children:[r.energy,"cal"]})]})]})}function h(e){let{kind:n,menu:r}=e;return(0,t.jsx)("div",{className:"bg-gray-200 p-4 rounded-md shadow-md",children:null==r?void 0:r.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(x,{className:"flex-grow-0",kind:n,menu:e}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-center"}),(0,t.jsx)(j,{kind:n,menu:e})]})]},r))})}function x(e){let{kind:n,menu:r,className:l}=e;return(0,t.jsx)("div",{className:l,children:null==r?(0,t.jsxs)("p",{className:"block h-32 w-32 flex-shrink-0",children:["見つかりませんでした",(0,t.jsx)("br",{}),"(バグです)"]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{alt:"".concat(r.name," 画像"),className:"block h-32 w-32 flex-shrink-0",src:r.image_url})})})}function j(e){let{kind:n,menu:r}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:null==r?(0,t.jsxs)(t.Fragment,{children:["見つかりませんでした",(0,t.jsx)("br",{}),"(バグです)"]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("p",{className:"text-center"}),r.name,r.energy,"kcal,",r.price,"円"]})})})})}},7858:function(e,n,r){"use strict";function t(e){return JSON.parse(localStorage.getItem("eatenData")||"[]").filter(n=>n.date===e)}r.d(n,{u:function(){return t}})},3770:function(e,n,r){"use strict";r.d(n,{Hb:function(){return u},uN:function(){return o},v$:function(){return d}});var t=r(2265),l=r(7200),s=r(6463);r(5592);var i=r(7858),c=r(7549);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,l]=(0,t.useState)();if(void 0!==r&&n.length==r.dependencies.length&&n.every((e,n)=>Object.is(e,r.dependencies[n])))return r.value;let s=e();return l({value:s,dependencies:n}),s}function o(){return u((0,c.i5)())}function u(e){return a(()=>(0,i.u)(e),[e])}function d(){let e=(0,s.useRouter)();return a(()=>{let n=(0,l.i)();if(null!=n)return n;throw setTimeout(()=>{e.replace("/setup/enter")},0),new Promise(()=>{})})}},5113:function(e,n,r){"use strict";function t(e){return function(e){let{sex:n,height:r,weight:t,birthday:l}=e,s=function(e){let n=new Date(e),r=new Date,t=r.getFullYear()-n.getFullYear(),l=r.getMonth()-n.getMonth();return(l<0||0===l&&r.getDate()<n.getDate())&&t--,t}(l);return"man"===n?88.362+13.397*t+4.799*r-5.677*s:447.593+9.247*t+3.098*r-4.33*s}(e)*function(e){switch(e){case 1:return 1.2;case 2:return 1.375;case 3:return 1.55;case 4:return 1.725;case 5:return 1.9;default:throw Error("Invalid exercise load")}}(e.load)}r.d(n,{Rt:function(){return t}})},7200:function(e,n,r){"use strict";r.d(n,{A:function(){return l},i:function(){return s}});let t="userDatabase";function l(e){!function(e){if(e.height<=0)throw Error("身長は半角数字にしてください.");if(e.weight<=0)throw Error("体重は半角数字にしてください.");if(e.load<1||e.load>5)throw Error("運動量は1から5の半角数字にしてください.");if(!Array.isArray(e.stores)||0===e.stores.length)throw Error("飲食店を選択してください.");if(!Array.isArray(e.allergens))throw Error("アレルギーを選択してください.");if(e.price<0)throw Error("価格は半角数字にしてください.")}(e),localStorage.setItem(t,JSON.stringify(e))}function s(){return function(){let e=localStorage.getItem(t);return e?JSON.parse(e):null}()}},7549:function(e,n,r){"use strict";function t(){return l(new Date)}function l(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString(10).padStart(2,"0"),"-").concat(e.getDate().toString(10).padStart(2,"0"))}function s(e){let[n,r,t]=e.split("-").map(Number);return[n,r,t]}r.d(n,{RD:function(){return s},bW:function(){return l},i5:function(){return t}})},6463:function(e,n,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(n,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(n,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8027)}),_N_E=e.O()}]);